	<sebm-google-map #theMapDirective
		[latitude]="latitude" 
		[longitude]="longitude"
		(centerChange)="centreChanged($event, theMap)"
		(mapClick)="mapClicked($event, theMap)">
		 <sebm-google-map-marker
          [latitude]="latitude"
          [longitude]="longitude">
      </sebm-google-map-marker>
    </sebm-google-map>
    latitude: {{latitude}} , longitude: {{longitude}}<br/>

  <h4> 
  </h4> 
  	<div class="row">
  		<div class="col-md-6">
  			<h4>{{locationFound}}</h4>
  			<div *ngIf="locationNotFound">
		    	No location found
		    </div>
		</div>
  		<div class="col-md-6">
  			<div class="input-group">
    			<input class="form-control" type="text" [(ngModel)]="searchLocation" 
    				placeholder="lookup a location"/>
    			<span class="input-group-btn">
    				<button class="btn btn-default" type="button"
    				 (click)="searchForLocation()">
    				 Search
    				 </button>
    			</span>

  			</div>
  		</div>
  		<div>&nbsp;</div>
		</div>
		<div class="row">
  
  		<div class="col-md-6">
  			<div class="form-group">
                	<div class='input-group date' id='datetimepicker1'>
	                    <input type='text' class="form-control" placeholder="YYYY-MM-DD" value={{date}} 
	                    (change)=setDate(dateInput.value)/>
	                    <span class="input-group-addon">
	                        <span class="glyphicon glyphicon-calendar"></span>
	                    </span>
                	</div>
            </div>
        </div>
        <div class="col-md-6">
			<div class="input-group">
        		<input class="form-control" type="number" min="1" max="31" placeholder="Number of Days" 
        		 [(ngModel)]="numberOfDaysInCalendar" value="7"/>
    			<span class="input-group-btn">
			      <button class="btn btn-default" type="button" (click)="buildCalendar()">
			      	Build calendar
			      </button>
			    </span>
 			</div>
  		</div>
    </div>
	<h3>Prayer times  in {{timeZone}} for {{getFullDate()}}</h3>
    <div class="row" >
    	<div class="col-md-2" *ngFor="let time of prayerTimes">  
    		<div class="time-name">{{time.name}}</div>
    		<div class="main-time">{{time.time}}</div>
    	</div>
    	
	</div>
	<div *ngIf="startOfLunarMonth">
		<p>At isha a new lunar month starts</p>
	</div>
	<div *ngIf="fajrIsAdjusted">
    	Fajr and isha use adjusted latitude of {{fajrAdjustedLatitude}}
    </div>
    <div *ngIf="maghribIsAdjusted">
    	Maghrib and Sunrise use adjusted latitude of {{maghribAdjustedLatitude}}
    </div>
    <div *ngIf="!fajrIsAdjusted && !maghribIsAdjusted">
    	No adjustments made for these times.
    </div>
<div class="panel panel-default" *ngIf="calendar.length>0">
	<div class="panel-heading">
		<div class="pull-right">
			<button class="btn btn-default" *ngIf="calendar.length>0" type="button" (click)="removeCalendar()">
		    	X
		    </button> 
		<h4>Calculated Prayer times for {{locationFound}} in {{timeZone}}</h4>
		    
	    </div>
	    <div class="clearfix"></div>
	</div>
	<div class="panel-body">
	   	<table  class="prayer-time-table table table-striped">
		  	 <thead>
		  		<tr>
		  			<th>Date</th>
		  			<th *ngFor="let heading of calendarHeadings">
		  				{{heading}}
		  			</th>
		  		</tr>
		  	</thead>
			<tbody>
				<tr *ngFor="let day of calendar" [ngClass]="{'new-lunar-month':day.startOfLunarMonth}">
					<td>{{day.formatedDate}}
						<span *ngIf="day.startOfLunarMonth">*</span>
					</td> 			
					<td *ngFor="let time of day.times">
						{{time.time}}
					</td>
				</tr>
			</tbody>
	  	</table>
	  	<p *ngIf="showNewMonthLegend">*new lunar month starts at isha</p>
  	</div>
</div>

